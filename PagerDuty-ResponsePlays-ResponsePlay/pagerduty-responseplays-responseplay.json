{
  "typeName": "PagerDuty::ResponsePlays::ResponsePlay",
  "description": "Manage a response play in PagerDuty",
  "sourceUrl": "https://github.com/aws-cloudformation/aws-cloudformation-rpdk.git",
  "definitions": {
    "PagerDutyAccess": {
      "type": "object",
      "properties": {
        "AccessToken": {
          "description": "Personal Access Token",
          "type": "string",
          "pattern": "^\\w{20}$"
        }
      },
      "required": [
        "AccessToken"
      ],
      "additionalProperties": false
    },
    "Id": {
      "type": "string"
    },
    "Summary": {
      "description": "A short-form, server-generated string that provides succinct, important information about an object suitable for primary labeling of an entity in a client. In many cases, this will be identical to name, though it is not intended to be an identifier.",
      "type": "string"
    },
    "HtmlUrl": {
      "description": "A URL at which the entity is uniquely displayed in the Web app.",
      "type": "string"
    },
    "Name": {
      "description": "The name of the response play.",
      "type": "string",
      "minLength": 1
    },
    "Description": {
      "description": "The description of the response play.",
      "type": "string",
      "maxLength": 349
    },
    "Team": {
      "type": "object",
      "properties": {
        "Type": {
          "description": "A string that determines the schema of the object. This must be the standard name for the entity, suffixed by _reference if the object is a reference.",
          "type": "string",
          "enum": [
            "team_reference"
          ]
        },
        "Id": {
          "$ref": "#/definitions/Id"
        },
        "Summary": {
          "$ref": "#/definitions/Summary"
        },
        "HtmlUrl": {
          "$ref": "#/definitions/HtmlUrl"
        }
      },
      "required": [
        "Type",
        "Id"
      ],
      "additionalProperties": false
    },
    "Subscribers": {
      "type": "array",
      "insertionOrder": false,
      "items": {
        "$ref": "#/definitions/Subscriber"
      }
    },
    "Subscriber": {
      "type": "object",
      "properties": {
        "Type": {
          "description": "A string that determines the schema of the object. This must be the standard name for the entity, suffixed by _reference if the object is a reference.",
          "type": "string",
          "enum": [
            "user_reference",
            "team_reference"
          ]
        },
        "Id": {
          "$ref": "#/definitions/Id"
        },
        "Summary": {
          "$ref": "#/definitions/Summary"
        },
        "HtmlUrl": {
          "$ref": "#/definitions/HtmlUrl"
        }
      },
      "required": [
        "Type",
        "Id"
      ],
      "additionalProperties": false
    },
    "SubscribersMessage": {
      "description": "The content of the notification that will be sent to all incident subscribers upon the running of this response play. Note that this includes any users who may have already been subscribed to the incident prior to the running of this response play. If empty, no notifications will be sent.",
      "type": "string"
    },
    "Responders": {
      "type": "array",
      "insertionOrder": false,
      "items": {
        "$ref": "#/definitions/Responder"
      }
    },
    "Responder": {
      "type": "object",
      "properties": {
        "Type": {
          "description": "A string that determines the schema of the object. This must be the standard name for the entity, suffixed by _reference if the object is a reference.",
          "type": "string",
          "enum": [
            "user_reference",
            "escalation_policy_reference"
          ]
        },
        "Id": {
          "$ref": "#/definitions/Id"
        },
        "Summary": {
          "$ref": "#/definitions/Summary"
        },
        "HtmlUrl": {
          "$ref": "#/definitions/HtmlUrl"
        }
      },
      "required": [
        "Type",
        "Id"
      ],
      "additionalProperties": false
    },
    "RespondersMessage": {
      "description": "The content of the notification that will be sent to all incident subscribers upon the running of this response play. Note that this includes any users who may have already been subscribed to the incident prior to the running of this response play. If empty, no notifications will be sent.",
      "type": "string"
    },
    "Runnability": {
      "description": "String representing how this response play is allowed to be run. Valid options are:\n\n    services: This response play cannot be manually run by any users. It will run automatically for new incidents triggered on any services that are configured with this response play.\n    teams: This response play can be run manually on an incident only by members of its configured team. This option can only be selected when the team property for this response play is not empty.\n    responders: This response play can be run manually on an incident by any responders in this account.",
      "type": "string",
      "enum": [
        "services",
        "teams",
        "responders"
      ],
      "default": "services"
    },
    "ConferenceNumber": {
      "description": "The telephone number that will be set as the conference number for any incident on which this response play is run.",
      "type": "string"
    },
    "ConferenceUrl": {
      "description": "The URL that will be set as the conference URL for any incident on which this response play is run.",
      "type": "string"
    },
    "ConferenceType": {
      "description": "This field has three possible values and indicates how the response play was created.\n\n    none : The response play had no conference_number or conference_url set at time of creation.\n    manual : The response play had one or both of conference_number and conference_url set at time of creation.\n    zoom : Customers with the Zoom-Integration Entitelment can use this value to dynamicly configure conference number and url for zoom",
      "type": "string",
      "enum": [
        "none",
        "manual",
        "zoom"
      ],
      "default": "none"
    },
    "ResponsePlay": {
      "type": "object",
      "properties": {
        "Id": {
          "$ref": "#/definitions/Id"
        },
        "Summary": {
          "$ref": "#/definitions/Summary"
        },
        "Type": {
          "description": "The type of object being created.",
          "type": "string",
          "enum": [
            "response_play"
          ],
          "default": "response_play"
        },
        "HtmlUrl": {
          "$ref": "#/definitions/HtmlUrl"
        },
        "Name": {
          "$ref": "#/definitions/Name"
        },
        "Description": {
          "$ref": "#/definitions/Description"
        },
        "Team": {
          "oneOf": [
            {
              "$ref": "#/definitions/Team"
            },
            {
              "type": "object"
            }
          ]
        },
        "Subscribers": {
          "$ref": "#/definitions/Subscribers"
        },
        "SubscribersMessage": {
          "$ref": "#/definitions/SubscribersMessage"
        },
        "Responders": {
          "$ref": "#/definitions/Responders"
        },
        "RespondersMessage": {
          "$ref": "#/definitions/RespondersMessage"
        },
        "Runnability": {
          "$ref": "#/definitions/Runnability"
        },
        "ConferenceNumber": {
          "$ref": "#/definitions/ConferenceNumber"
        },
        "ConferenceUrl": {
          "$ref": "#/definitions/ConferenceUrl"
        },
        "ConferenceType": {
          "$ref": "#/definitions/ConferenceType"
        }
      },
      "additionalProperties": false
    }
  },
  "typeConfiguration": {
    "properties": {
      "PagerDutyAccess": {
        "$ref": "#/definitions/PagerDutyAccess"
      }
    },
    "additionalProperties": false,
    "required": [
      "PagerDutyAccess"
    ]
  },
  "properties": {
    "PagerDutyAccess": {
      "description": "Personal Access Token",
      "type": "string",
      "pattern": "^\\w{20}$"
    },
    "From": {
      "description": "The email address of a valid user associated with the account making the request.",
      "type": "string",
      "format": "email"
    },
    "Name": {
      "$ref": "#/definitions/Name"
    },
    "Description": {
      "$ref": "#/definitions/Description"
    },
    "Team": {
      "oneOf": [
        {
          "$ref": "#/definitions/Team"
        },
        {
          "type": "object"
        }
      ]
    },
    "Subscribers": {
      "$ref": "#/definitions/Subscribers"
    },
    "SubscribersMessage": {
      "$ref": "#/definitions/SubscribersMessage"
    },
    "Responders": {
      "$ref": "#/definitions/Responders"
    },
    "RespondersMessage": {
      "$ref": "#/definitions/RespondersMessage"
    },
    "Runnability": {
      "$ref": "#/definitions/Runnability"
    },
    "ConferenceNumber": {
      "$ref": "#/definitions/ConferenceNumber"
    },
    "ConferenceUrl": {
      "$ref": "#/definitions/ConferenceUrl"
    },
    "ConferenceType": {
      "$ref": "#/definitions/ConferenceType"
    },
    "Id": {
      "$ref": "#/definitions/Id"
    },
    "ResponsePlay": {
      "$ref": "#/definitions/ResponsePlay"
    }
  },
  "additionalProperties": false,
  "tagging": {
    "taggable": false
  },
  "required": [
    "PagerDutyAccess",
    "From"
  ],
  "readOnlyProperties": [
    "/properties/Id",
    "/properties/ResponsePlay"
  ],
  "primaryIdentifier": [
    "/properties/Id"
  ],
  "handlers": {
    "create": {
      "permissions": []
    },
    "read": {
      "permissions": []
    },
    "update": {
      "permissions": []
    },
    "delete": {
      "permissions": []
    },
    "list": {
      "permissions": []
    }
  }
}
